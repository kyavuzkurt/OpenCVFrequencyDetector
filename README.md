# Color Detector with Multi-Tracker

This project provides a tool for detecting and tracking colored objects in videos. It includes a graphical user interface (GUI) for easy parameter setting and execution.

## Features

- Detect and track any color in videos
- GUI for easy parameter input and execution
- Command-line interface for advanced users
- Output tracking data to CSV files
- Plot tracking results
- Save the processed video with detected objects

## Requirements

- Python 3.x
- OpenCV
- NumPy
- Matplotlib
- Tkinter
- tqdm
- ttkbootstrap

For a complete list of dependencies, see the `requirements.txt` file.

## Installation

1. Clone the repository:
   ```
   git clone https://github.com/kyavuzkurt/OpenCVFrequencyDetector
   cd OpenCVFrequencyDetector
   ```

2. Install the required packages:
   ```
   pip install -r requirements.txt
   ```

### Docker
Or you can use the docker image:

First clone the repository:
```
git clone https://github.com/kyavuzkurt/OpenCVFrequencyDetector
cd OpenCVFrequencyDetector
```

Then build the docker image:
```
docker build -t opencv-frequency-detector .
docker run -p 80:80 opencv-frequency-detector
```

## Usage

### GUI

Run the GUI application:

```
python src/run.py
```

Use the GUI to:
- Select a video file
- Choose the color to detect using the hsv trackbars 
- Set max objects to detect
- Enable/disable video processing preview(disables saving the output video)
- Enable/disable result plotting
- Run the detection process

### Command Line

For advanced users, you can run the detector from the command line:
color_code is a 18 digit number representing the HSV values for the color to detect. first 9 are low values and last 9 are high values.

```
python src/main.py --video path/to/video.mp4 --color_code 000000000255255255 --max_objects 10 --preview_enabled True
```

## Project Structure

- `src/colordetector.py`: Main class for color detection and tracking
- `src/run.py`: GUI application
- `src/main.py`: Command-line interface
- `src/plotter.py`: Script for plotting results

## Output

- CSV files with tracking data are saved in the `output_csvs` directory
- Plots (if enabled) are saved in the `plots` directory

## License

This project is licensed under the MIT License. See the `LICENSE` file for details.

## Contributing

Contributions are welcome! Please feel free to submit a Pull Request.

For referencing the code structure, see:


## Code Overview

### `run.py`

This file contains the main GUI application using Tkinter. It allows users to input parameters and run the color detection process.

### `main.py`

This script handles the command-line interface for running the color detection. It parses arguments and initializes the `ColorDetector` class.

### `colordetector.py`

This module contains the `ColorDetector` class, which processes the video, detects the specified color, and tracks objects.

### `plotter.py`

This script reads the output CSV files generated by the `ColorDetector` and plots the results using Matplotlib.

### `Dockerfile`

This file contains the instructions for building a Docker image for the application.
